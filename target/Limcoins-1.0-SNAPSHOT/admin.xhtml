<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:p="http://primefaces.org/ui">
<f:metadata>
    <f:event type="preRenderView" listener="#{administrateurManagedBean.onLoad()}" />
</f:metadata>
<h:head>
    <link rel="stylesheet" type="text/css" href="resources/css/design.css" media="all" />
    <style type="text/css">
    .me {
        background-color: #fdac49 !important;
        background-image: none !important;
        color: #000000 !important;
    }
</style>
</h:head>
<h:body style="width: 100%; height: 100%;background-color:lightgrey;">
    <h:outputStylesheet name="primeicons/primeicons.css" library="primefaces"/>
    <h:form>
    <p:tabMenu style="margin-right: 20px;"  activeIndex="#{param.i}">
        <p:menuitem value="Créer un match" action="#{administrateurManagedBean.creerMatch}" icon="pi pi-plus">
            <f:param name="i" value="0" />
        </p:menuitem>
        <p:menuitem value="Nouvelle Equipe" action="#{administrateurManagedBean.creerEquipe}" icon="pi pi-plus">
            <f:param name="i" value="1" />
        </p:menuitem>
        <p:menuitem value="Deconnexion" action="#{administrateurManagedBean.deconnexion}" icon="pi pi-power-off">
            <f:param name="i" value="2" />
        </p:menuitem>
    </p:tabMenu>
    </h:form>
    <br /><br />
    <div class="ui-g">
        <div class="ui-g-1"></div>
        <div class="ui-g-10">
            <h:outputLabel style="display: block; width:100%; text-align:center;" class="jolitext2" value="Page d'administration"/><br /><br />
            <p:chart type="line" model="#{limcoinManagedBean.lineModel2}" style="height:300px;"/></div>
        <div class="ui-g-1"></div>
    </div>
    <br />
    <p:separator style="margin-left: 10%;margin-right: 10%"/>
    <br /><br /><br />
    <h:form>
        <h:outputLabel style="display: block; width:100%; text-align:center;" class="jolitext2" value="Liste des Equipes"/><br />
        <p:dataTable id="equipeTable" rowIndexVar="index" class="marge5" var="entry3" value="#{administrateurManagedBean.equipeList}"  >
            <p:column headerText="Nom">
                <h:outputText value="#{entry3.nom}" />
            </p:column>
            <p:column headerText="Ville">
                <h:outputText value="#{entry3.villeAssocie}" />
            </p:column>
            <p:column headerText="Reputation">
                <h:outputText value="#{entry3.reputation}" />
            </p:column>
            <p:column headerText="Id Equipee">
                <h:outputText value="#{entry3.id}" />
            </p:column>
        </p:dataTable>
    </h:form>
    <br /><br /><br />
    <h:form>
        <h:outputLabel style="display: block; width:100%; text-align:center;" class="jolitext2" value="Liste des bookmakers"/><br />
    <p:dataTable id="bookmakertable" rowIndexVar="index" class="marge5" var="entry" value="#{administrateurManagedBean.bookmakerList}"  >
        <p:column headerText="Nom">
            <h:outputText value="#{entry.nom}" />
        </p:column>
        <p:column headerText="Prenom">
            <h:outputText value="#{entry.prenom}" />
        </p:column>
        <p:column headerText="Mail">
            <h:outputText value="#{entry.email}" />
        </p:column>
        <p:column headerText="Telephone">
            <h:outputText value="#{entry.tel}" />
        </p:column>
        <p:column headerText="Adresse">
            <h:outputText value="#{entry.adresse}" />
        </p:column>
        <p:column headerText="Date de naissance">
            <h:outputText value="#{entry.birthDate}" />
        </p:column>
        <p:column headerText="Nombre de côtes crées">
            <h:outputText value="#{entry.listCoteEffectue.size()}" />
        </p:column>
        <p:column headerText="Details" style="width:48px;text-align: center">
            <p:commandButton ajax="true"  update="bookmakertable" action="#{administrateurManagedBean.supprBookmaker(entry.email)}"   icon="pi pi-trash"/>
        </p:column>
    </p:dataTable>
</h:form>
    <br /><br /><br />
    <h:form>
        <h:outputLabel style="display: block; width:100%; text-align:center;" class="jolitext2" value="Liste des Parieurs"/><br />
        <p:dataTable id="parieurTable" rowIndexVar="index" class="marge5" var="entry2" value="#{administrateurManagedBean.parieurList}"  >
            <p:column headerText="Nom">
                <h:outputText value="#{entry2.nom}" />
            </p:column>
            <p:column headerText="Prenom">
                <h:outputText value="#{entry2.prenom}" />
            </p:column>
            <p:column headerText="E-mail">
                <h:outputText value="#{entry2.email}" />
            </p:column>
            <p:column headerText="Nombre de paris gagnés">
                <h:outputText value="#{entry2.nbParisGagne}" />
            </p:column>
            <p:column headerText="Adresse">
                <h:outputText value="#{entry2.adresse}" />
            </p:column>
            <p:column headerText="Date de naissance">
                <h:outputText value="#{entry2.birthDate}" />
            </p:column>
            <p:column headerText="Supprimer" style="width:48px;text-align: center">
                <p:commandButton ajax="true"  update="parieurTable" action="#{administrateurManagedBean.supprParieur(entry2.email)}"   icon="pi pi-trash"/>
            </p:column>
        </p:dataTable>
    </h:form>
</h:body>
</html>
